/**
 * QUANTUM MERLIN FRAMEWORK
 * Backgrounds CSS - Grid Floor, Quantum Sun, Particles, Overlays
 * Version: 1.0.0
 */

/* ============================================
   RETRO GRID FLOOR
   ============================================ */
.quantum-grid-floor {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 50vh;
  background: linear-gradient(to bottom, transparent 0%, var(--quantum-dark) 100%);
  perspective: 1000px;
  z-index: var(--z-background);
  pointer-events: none;
}

.grid-lines {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) rotateX(60deg);
  width: 200%;
  height: 100%;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 49px,
      var(--grid-color, var(--quantum-cyan)) 49px,
      var(--grid-color, var(--quantum-cyan)) 50px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 49px,
      var(--grid-color, var(--quantum-cyan)) 49px,
      var(--grid-color, var(--quantum-cyan)) 50px
    );
  opacity: 0.3;
  animation: gridMove 20s linear infinite;
}

/* Grid Color Variants */
.grid-cyan { --grid-color: var(--quantum-cyan); }
.grid-magenta { --grid-color: var(--quantum-magenta); }
.grid-gold { --grid-color: var(--quantum-gold); }
.grid-purple { --grid-color: var(--quantum-purple); }
.grid-blue { --grid-color: var(--quantum-blue); }

/* ============================================
   QUANTUM SUN / HORIZON
   ============================================ */
.quantum-sun {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 400px;
  height: 400px;
  z-index: var(--z-background);
  pointer-events: none;
}

.sun-core {
  position: absolute;
  bottom: -200px;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 300px;
  background: radial-gradient(
    circle,
    var(--sun-color, var(--quantum-cyan)) 0%,
    transparent 70%
  );
  opacity: 0.8;
  animation: sunPulse 4s ease-in-out infinite;
}

.sun-glow {
  position: absolute;
  bottom: -200px;
  left: 50%;
  transform: translateX(-50%);
  width: 400px;
  height: 400px;
  background: radial-gradient(
    circle,
    var(--sun-color, var(--quantum-cyan)) 0%,
    transparent 60%
  );
  opacity: 0.4;
  animation: sunPulse 4s ease-in-out infinite;
  animation-delay: 0.5s;
}

/* Sun Color Variants */
.sun-cyan { --sun-color: var(--quantum-cyan); }
.sun-magenta { --sun-color: var(--quantum-magenta); }
.sun-gold { --sun-color: var(--quantum-gold); }
.sun-purple { --sun-color: var(--quantum-purple); }
.sun-blue { --sun-color: var(--quantum-blue); }

/* ============================================
   FLOATING PARTICLES
   ============================================ */
.quantum-particles {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--particle-color, var(--quantum-cyan));
  border-radius: 50%;
  box-shadow: 0 0 10px var(--particle-color, var(--quantum-cyan));
  animation: particleFloat linear infinite;
  opacity: 0;
}

/* Particle will be positioned and animated via JavaScript */

/* ============================================
   BACKGROUND OVERLAYS
   ============================================ */
.quantum-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
}

.overlay-gradient {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    var(--quantum-dark) 100%
  );
  opacity: 0.5;
}

.overlay-noise {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.03;
}

/* ============================================
   STARFIELD BACKGROUND
   ============================================ */
.starfield {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
}

.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 3s ease-in-out infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 0.3; }
}

/* Stars will be positioned via JavaScript */

/* ============================================
   AURORA EFFECT
   ============================================ */
.aurora {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 50vh;
  z-index: var(--z-background);
  pointer-events: none;
  overflow: hidden;
}

.aurora-layer {
  position: absolute;
  top: 0;
  left: -50%;
  right: -50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--aurora-color-1, var(--quantum-cyan)) 25%,
    var(--aurora-color-2, var(--quantum-magenta)) 50%,
    var(--aurora-color-1, var(--quantum-cyan)) 75%,
    transparent 100%
  );
  opacity: 0.1;
  filter: blur(40px);
  animation: auroraMove 20s ease-in-out infinite;
}

.aurora-layer:nth-child(2) {
  animation-duration: 25s;
  animation-delay: 5s;
  opacity: 0.08;
}

.aurora-layer:nth-child(3) {
  animation-duration: 30s;
  animation-delay: 10s;
  opacity: 0.06;
}

@keyframes auroraMove {
  0%, 100% {
    transform: translateX(0) translateY(0);
  }
  25% {
    transform: translateX(10%) translateY(-5%);
  }
  50% {
    transform: translateX(-10%) translateY(5%);
  }
  75% {
    transform: translateX(5%) translateY(-10%);
  }
}

/* ============================================
   SCANLINES EFFECT
   ============================================ */
.scanlines {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    rgba(0, 0, 0, 0.1) 1px,
    transparent 2px
  );
  opacity: 0.3;
}

/* ============================================
   VIGNETTE EFFECT
   ============================================ */
.vignette {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 0, 0, 0.7) 100%
  );
}

/* ============================================
   GLITCH EFFECT
   ============================================ */
.glitch-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  opacity: 0;
  animation: glitchFlash 10s infinite;
}

@keyframes glitchFlash {
  0%, 98%, 100% {
    opacity: 0;
  }
  98.5%, 99.5% {
    opacity: 0.1;
    background: var(--quantum-cyan);
  }
}

/* ============================================
   HEXAGON PATTERN
   ============================================ */
.hexagon-pattern {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  background-image: 
    linear-gradient(30deg, var(--glass-border) 12%, transparent 12.5%, transparent 87%, var(--glass-border) 87.5%, var(--glass-border)),
    linear-gradient(150deg, var(--glass-border) 12%, transparent 12.5%, transparent 87%, var(--glass-border) 87.5%, var(--glass-border)),
    linear-gradient(30deg, var(--glass-border) 12%, transparent 12.5%, transparent 87%, var(--glass-border) 87.5%, var(--glass-border)),
    linear-gradient(150deg, var(--glass-border) 12%, transparent 12.5%, transparent 87%, var(--glass-border) 87.5%, var(--glass-border)),
    linear-gradient(60deg, rgba(255, 255, 255, 0.02) 25%, transparent 25.5%, transparent 75%, rgba(255, 255, 255, 0.02) 75%, rgba(255, 255, 255, 0.02)),
    linear-gradient(60deg, rgba(255, 255, 255, 0.02) 25%, transparent 25.5%, transparent 75%, rgba(255, 255, 255, 0.02) 75%, rgba(255, 255, 255, 0.02));
  background-size: 80px 140px;
  background-position: 0 0, 0 0, 40px 70px, 40px 70px, 0 0, 40px 70px;
  opacity: 0.3;
}

/* ============================================
   CIRCUIT BOARD PATTERN
   ============================================ */
.circuit-pattern {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--z-background);
  pointer-events: none;
  background-color: transparent;
  background-image: 
    linear-gradient(var(--glass-border) 1px, transparent 1px),
    linear-gradient(90deg, var(--glass-border) 1px, transparent 1px);
  background-size: 50px 50px;
  opacity: 0.2;
}

.circuit-pattern::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 25% 25%, var(--quantum-cyan) 2px, transparent 2px),
    radial-gradient(circle at 75% 75%, var(--quantum-magenta) 2px, transparent 2px);
  background-size: 100px 100px;
  opacity: 0.5;
}

/* ============================================
   TOOL-SPECIFIC BACKGROUNDS
   ============================================ */
.bg-genesis {
  background: linear-gradient(180deg, var(--quantum-dark) 0%, #0a1520 100%);
}

.bg-codes {
  background: linear-gradient(180deg, var(--quantum-dark) 0%, #1a0a20 100%);
}

.bg-jukebox {
  background: linear-gradient(180deg, var(--quantum-dark) 0%, #1a1510 100%);
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */
@media (max-width: 768px) {
  .quantum-sun {
    width: 300px;
    height: 300px;
  }
  
  .sun-core {
    width: 200px;
    height: 200px;
    bottom: -100px;
  }
  
  .sun-glow {
    width: 300px;
    height: 300px;
    bottom: -150px;
  }
  
  .quantum-grid-floor {
    height: 40vh;
  }
}

@media (max-width: 480px) {
  .quantum-sun {
    width: 200px;
    height: 200px;
  }
  
  .sun-core {
    width: 150px;
    height: 150px;
    bottom: -75px;
  }
  
  .sun-glow {
    width: 200px;
    height: 200px;
    bottom: -100px;
  }
  
  .quantum-grid-floor {
    height: 30vh;
  }
}